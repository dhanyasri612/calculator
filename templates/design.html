<html>
    <head>
        <title>
            Calculator
        </title>
        <link rel="stylesheet" href="{{ url_for('static', filename='design.css') }}">
        <script>
            let expression = '';

            function appendToDisplay(value) {
                expression += value;
                document.getElementsByName('display')[0].value = expression;
            }

            function clearDisplay() {
                expression = '';
                document.getElementsByName('display')[0].value = '';
            }

            function calculate() {
                fetch('/calculate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ expression: expression }),
                })
                .then(response => response.json())
                .then(data => {
                    document.getElementsByName('display')[0].value = data.result;
                })
                .catch(error => {
                    document.getElementsByName('display')[0].value = 'Error';
                });
            }
        </script>
    </head>
    <body>
        <h1>
            CALCULATOR
        </h1>
        <form>
            <br><br><br><br><br><br>
            <input type="text" name="display" style="width:400px; height:70px; background-color:darkgray" readonly><br><br>
            <input class="btn" type="button" value="C" style="color:blue" onclick="clearDisplay()">
            <input class="btn" type="button" value="0" onclick="appendToDisplay('0')">
            <input class="btn" type="button" value="1" onclick="appendToDisplay('1')">
            <input class="btn" type="button" value="2" onclick="appendToDisplay('2')">
            <br><br>
            <input class="btn" type="button" value="3" onclick="appendToDisplay('3')">
            <input class="btn" type="button" value="4" onclick="appendToDisplay('4')">
            <input class="btn" type="button" value="5" onclick="appendToDisplay('5')">
            <input class="btn" type="button" value="6" onclick="appendToDisplay('6')">
            <br><br>
            <input class="btn" type="button" value="7" onclick="appendToDisplay('7')">
            <input class="btn" type="button" value="8" onclick="appendToDisplay('8')">
            <input class="btn" type="button" value="9" onclick="appendToDisplay('9')">
            <input class="btn" type="button" value="+" style="color:crimson" onclick="appendToDisplay('+')"> <br><br>
            <input class="btn" type="button" value="-" style="color:crimson" onclick="appendToDisplay('-')">
            <input class="btn" type="button" value="*" style="color:crimson" onclick="appendToDisplay('*')">
            <input class="btn" type="button" value="/" style="color:crimson" onclick="appendToDisplay('/')">
            <input class="btn" type="button" value="=" style="color:crimson" onclick="calculate()">
        </form>
    </body>
</html>